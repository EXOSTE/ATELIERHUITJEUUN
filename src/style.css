/* === SLOT MACHINE === */
:root {
  --bg: #0a0612; --nr: #ff1744; --np: #ff2d75; --ng: #ffd700; --nc: #00e5ff;
  --tm: #f0e6ff; --td: #8a7aaa; --md: #1a0a2e; --mb: #4a3a6c;
  --fd: 'Orbitron', monospace; --fb: 'Inter', sans-serif;
}
* { box-sizing: border-box; margin: 0; padding: 0; }
html, body { height: 100%; }
body { background: var(--bg); background-image: radial-gradient(ellipse at 20% 50%, rgba(255,45,117,.06) 0%, transparent 60%), radial-gradient(ellipse at 80% 50%, rgba(0,229,255,.06) 0%, transparent 60%); color: var(--tm); font-family: var(--fb); display: flex; flex-direction: column; align-items: center; justify-content: center; min-height: 100vh; overflow-x: hidden; position: relative; }

/* Ambient */
.ambient-glow { position: fixed; width: 400px; height: 600px; border-radius: 50%; filter: blur(120px); pointer-events: none; z-index: 0; opacity: .4; }
.ambient-glow--left { top: 10%; left: -100px; background: var(--np); }
.ambient-glow--right { bottom: 10%; right: -100px; background: var(--nc); }

/* Navbar */
.navbar { position: fixed; top: 0; width: 100%; padding: 1rem 2rem; display: flex; justify-content: space-between; align-items: center; z-index: 100; background: rgba(10,6,18,.8); backdrop-filter: blur(12px); border-bottom: 1px solid rgba(255,45,117,.15); }
.logo { font: 900 1.1rem var(--fd); letter-spacing: .05em; }
.logo span { color: var(--np); text-shadow: 0 0 10px var(--np); }
.nav-links { display: flex; gap: 1.5rem; }
.nav-links a { text-decoration: none; font: 600 .8rem var(--fb); color: var(--td); letter-spacing: .05em; text-transform: uppercase; transition: all .3s; }
.nav-links a:hover, .nav-links a.active { color: var(--nc); text-shadow: 0 0 12px rgba(0,229,255,.5); }

/* Machine */
.machine { position: relative; z-index: 10; width: 100%; max-width: 480px; background: linear-gradient(145deg, #1a0a2e, #0d0618, #1a0a2e); border-radius: 24px; border: 2px solid var(--mb); box-shadow: 0 0 40px rgba(255,45,117,.1), 0 0 80px rgba(0,0,0,.6), inset 0 1px 0 rgba(255,255,255,.05); overflow: hidden; padding-bottom: 1.5rem; }
.machine__top-sign { background: linear-gradient(180deg, #2a1548, var(--md)); padding: 1rem 1.5rem .75rem; text-align: center; }
.neon-border { height: 3px; background: linear-gradient(90deg, transparent, var(--np), var(--ng), var(--nc), var(--np), transparent); border-radius: 2px; box-shadow: 0 0 8px var(--np), 0 0 20px rgba(255,215,0,.3); animation: neonFlicker 3s ease-in-out infinite alternate; }
.machine__title { font: 900 2rem/1 var(--fd); letter-spacing: .15em; padding: .6rem 0 .3rem; }

/* Neon Letters */
.neon-text { display: inline-block; animation: neonGlow 2s ease-in-out infinite alternate; }
.neon-text--red { color: var(--nr); }
.neon-text--gold { color: var(--ng); }
.neon-text--cyan { color: var(--nc); }
.neon-text--pink { color: var(--np); }
.neon-text--red, .neon-text--gold, .neon-text--cyan, .neon-text--pink { text-shadow: 0 0 7px currentColor, 0 0 20px currentColor, 0 0 42px currentColor; }

/* Jackpot */
.machine__jackpot-display { display: flex; align-items: center; justify-content: center; gap: .75rem; padding: .4rem 0; }
.jackpot-label { font: 700 .65rem var(--fd); letter-spacing: .2em; color: var(--ng); text-shadow: 0 0 8px var(--ng); }
.jackpot-amount { font: 900 1.4rem var(--fd); color: var(--ng); text-shadow: 0 0 10px var(--ng), 0 0 30px rgba(255,215,0,.5); animation: jackpotPulse 1.5s ease-in-out infinite; }

/* Chaser Lights */
.chaser-lights { display: flex; justify-content: space-around; padding: 6px 12px; background: linear-gradient(180deg, rgba(0,0,0,.3), transparent); }
.chaser-light { width: 10px; height: 10px; border-radius: 50%; transition: all .15s; box-shadow: 0 0 4px currentColor; }
.chaser-light--on { opacity: 1; filter: brightness(1.5); box-shadow: 0 0 8px currentColor, 0 0 16px currentColor; }
.chaser-light--off { opacity: .25; filter: brightness(.5); }

/* Reels */
.reels-frame { margin: 0 1rem; position: relative; border-radius: 16px; border: 3px solid var(--mb); background: #000; box-shadow: inset 0 0 40px rgba(0,0,0,.9), 0 0 20px rgba(0,0,0,.5), 0 4px 0 var(--md); overflow: hidden; }
.reels-window { display: flex; align-items: stretch; height: 210px; position: relative; z-index: 1; }
.glass-reflection { position: absolute; inset: 0 0 auto 0; height: 50%; background: linear-gradient(180deg, rgba(255,255,255,.04), transparent); pointer-events: none; z-index: 5; border-radius: 14px 14px 0 0; }
.reel-container { flex: 1; overflow: hidden; background: linear-gradient(180deg, rgba(0,0,0,.8) 0%, rgba(5,2,16,.3) 20%, rgba(5,2,16,.1) 50%, rgba(5,2,16,.3) 80%, rgba(0,0,0,.8) 100%); }
.reel { display: flex; flex-direction: column; align-items: center; width: 100%; will-change: transform; }
.reel-separator { width: 2px; flex-shrink: 0; background: linear-gradient(180deg, transparent, var(--mb), rgba(255,215,0,.3), var(--mb), transparent); }
.reel-symbol { display: flex; align-items: center; justify-content: center; width: 100%; height: 70px; font-size: 2.8rem; flex-shrink: 0; filter: brightness(.7); transition: filter .3s, transform .3s; }
.reel-symbol.active { filter: brightness(1.2) drop-shadow(0 0 12px rgba(255,215,0,.6)); transform: scale(1.1); }

/* Payline */
.payline { position: absolute; top: 50%; left: 0; right: 0; transform: translateY(-50%); z-index: 10; display: flex; align-items: center; pointer-events: none; height: 70px; }
.payline__line { flex: 1; height: 2px; background: var(--ng); box-shadow: 0 0 6px var(--ng), 0 0 20px rgba(255,215,0,.3); opacity: .6; }
.payline__arrow { width: 0; height: 0; border-top: 10px solid transparent; border-bottom: 10px solid transparent; filter: drop-shadow(0 0 4px var(--ng)); }
.payline__arrow--left { border-right: 12px solid var(--ng); }
.payline__arrow--right { border-left: 12px solid var(--ng); }

/* Info */
.info-panel { display: flex; justify-content: space-around; padding: .75rem 1rem; margin: .75rem 1rem 0; background: linear-gradient(180deg, rgba(0,0,0,.4), rgba(26,10,46,.6)); border-radius: 12px; border: 1px solid var(--mb); }
.info-block { text-align: center; flex: 1; }
.info-block--highlight { border-left: 1px solid var(--mb); border-right: 1px solid var(--mb); }
.info-label { display: block; font: 700 .55rem var(--fd); letter-spacing: .2em; color: var(--td); margin-bottom: 4px; }
.info-value { display: block; font: 900 1.3rem var(--fd); color: var(--nc); text-shadow: 0 0 8px rgba(0,229,255,.4); }
.info-value--win { color: var(--ng); text-shadow: 0 0 8px rgba(255,215,0,.4); }

/* Controls */
.controls { display: flex; align-items: center; justify-content: space-between; padding: 1rem 1.5rem .5rem; }
.controls__left, .controls__right { display: flex; align-items: center; gap: .75rem; flex: 1; }
.controls__right { justify-content: flex-end; }
.btn-control { width: 48px; height: 48px; border-radius: 50%; border: 2px solid var(--mb); background: linear-gradient(145deg, #2a1a4a, #1a0a2e); color: var(--tm); font: 700 1.2rem var(--fd); cursor: pointer; transition: all .2s; display: flex; align-items: center; justify-content: center; box-shadow: 0 4px 0 #0d0618, 0 0 12px rgba(0,0,0,.3); }
.btn-control:hover { border-color: var(--nc); box-shadow: 0 4px 0 #0d0618, 0 0 12px rgba(0,229,255,.2); transform: translateY(-1px); }
.btn-control:active { transform: translateY(4px); box-shadow: none; }
.btn-max-bet { width: auto; border-radius: 24px; padding: 0 16px; font-size: .65rem; letter-spacing: .1em; color: var(--ng); border-color: rgba(255,215,0,.3); }
.btn-max-bet:hover { border-color: var(--ng); box-shadow: 0 4px 0 #0d0618, 0 0 12px rgba(255,215,0,.2); }

/* SPIN */
.btn-spin { position: relative; width: 90px; height: 90px; border-radius: 50%; border: none; cursor: pointer; background: linear-gradient(145deg, var(--nr), #c41230); box-shadow: 0 6px 0 #8b0a22, 0 0 30px rgba(255,23,68,.4), 0 0 60px rgba(255,23,68,.15), inset 0 2px 4px rgba(255,255,255,.2); transition: all .15s; z-index: 10; }
.btn-spin:hover { background: linear-gradient(145deg, #ff2d55, var(--nr)); box-shadow: 0 6px 0 #8b0a22, 0 0 45px rgba(255,23,68,.6), 0 0 80px rgba(255,23,68,.2), inset 0 2px 4px rgba(255,255,255,.3); transform: translateY(-2px); }
.btn-spin:active { transform: translateY(6px); box-shadow: 0 0 0 #8b0a22, 0 0 30px rgba(255,23,68,.5); }
.btn-spin:disabled { opacity: .5; cursor: not-allowed; transform: translateY(6px); box-shadow: 0 0 0 #8b0a22; filter: grayscale(.5); }
.btn-spin__inner { position: relative; z-index: 2; }
.btn-spin__text { font: 900 1rem var(--fd); color: #fff; letter-spacing: .15em; text-shadow: 0 2px 4px rgba(0,0,0,.3); }
.btn-spin__ring { position: absolute; inset: -4px; border-radius: 50%; border: 2px solid rgba(255,255,255,.15); animation: spinRingPulse 2s ease-in-out infinite; }

/* Result */
.result-message { text-align: center; font: 700 1rem var(--fd); letter-spacing: .1em; min-height: 1.5rem; padding: 0 1rem; opacity: 0; transform: translateY(10px) scale(.95); transition: all .4s cubic-bezier(.175,.885,.32,1.275); }
.result-message.show { opacity: 1; transform: translateY(0) scale(1); }
.result-message.win { color: var(--ng); text-shadow: 0 0 10px var(--ng); }
.result-message.jackpot { color: var(--nr); text-shadow: 0 0 10px var(--nr); font-size: 1.4rem; animation: jackpotFlash .5s ease-in-out 3; }
.result-message.lose { color: var(--td); }

/* Paytable */
.paytable-mini { position: fixed; bottom: 1rem; right: 1rem; z-index: 100; background: rgba(26,10,46,.9); border: 1px solid var(--mb); border-radius: 12px; padding: .5rem 1rem; cursor: pointer; display: flex; align-items: center; gap: .5rem; transition: all .3s; backdrop-filter: blur(8px); }
.paytable-mini:hover { border-color: var(--nc); box-shadow: 0 0 16px rgba(0,229,255,.2); }
.paytable-mini__icon { font-size: 1rem; }
.paytable-mini__text { font: 600 .7rem var(--fb); color: var(--td); letter-spacing: .05em; text-transform: uppercase; }
.paytable-overlay { position: fixed; inset: 0; background: rgba(0,0,0,.85); z-index: 200; display: none; align-items: center; justify-content: center; backdrop-filter: blur(6px); }
.paytable-overlay.open { display: flex; }
.paytable { background: linear-gradient(145deg, var(--md), #0d0618); border: 2px solid var(--mb); border-radius: 20px; padding: 2rem; max-width: 400px; width: 90%; text-align: center; }
.paytable h2 { font: 800 1rem var(--fd); letter-spacing: .15em; color: var(--ng); text-shadow: 0 0 10px var(--ng); margin-bottom: 1.5rem; text-transform: uppercase; }
.paytable__grid { display: flex; flex-direction: column; gap: .75rem; margin-bottom: 1.5rem; }
.paytable__row { display: flex; align-items: center; justify-content: space-between; padding: .6rem 1rem; background: rgba(255,255,255,.03); border-radius: 10px; border: 1px solid rgba(255,255,255,.05); }
.paytable__symbols { font-size: 1.5rem; letter-spacing: .3em; }
.paytable__payout { font: 700 .9rem var(--fd); color: var(--ng); }
.paytable__close { background: linear-gradient(145deg, var(--np), #c41260); color: #fff; border: none; border-radius: 10px; padding: .6rem 2rem; font: 700 .7rem var(--fd); letter-spacing: .1em; cursor: pointer; transition: all .2s; text-transform: uppercase; }
.paytable__close:hover { box-shadow: 0 0 20px rgba(255,45,117,.4); }

/* Animations */
@keyframes neonFlicker { 0%,95%{opacity:1} 96%{opacity:.6} 97%{opacity:1} 98%{opacity:.7} 100%{opacity:1} }
@keyframes neonGlow { to{filter:brightness(1.3)} }
@keyframes jackpotPulse { 50%{transform:scale(1.05)} }
@keyframes spinRingPulse { 0%,100%{transform:scale(1);opacity:.5} 50%{transform:scale(1.1);opacity:1} }
@keyframes jackpotFlash { 50%{opacity:.3} }
@keyframes winGlow { 0%,100%{box-shadow:0 0 40px rgba(255,215,0,.3),0 0 80px rgba(255,215,0,.1)} 50%{box-shadow:0 0 60px rgba(255,215,0,.5),0 0 120px rgba(255,215,0,.2)} }
.machine--win { animation: winGlow .8s ease-in-out 3; }
.machine--jackpot { animation: winGlow .4s ease-in-out 6; }
.machine--lose { border-color: rgba(255,255,255,.05); }

/* Layout & History */
.game-layout { display: flex; align-items: flex-start; justify-content: center; gap: 1.5rem; width: 100%; max-width: 1200px; margin: 0 auto; padding: 0 1rem; }
.history-sidebar { display: none; width: 320px; flex-shrink: 0; border-radius: 16px; border: 1px solid var(--mb); overflow: hidden; background: linear-gradient(180deg, rgba(13,6,24,.95), rgba(26,10,46,.9)); max-height: 85vh; align-self: stretch; }
.history-sidebar.show { display: block; }
.history-sidebar__header { display: flex; justify-content: space-between; align-items: center; padding: .75rem 1rem; border-bottom: 1px solid var(--mb); }
.history-sidebar__header h3 { font: 700 .7rem var(--fd); letter-spacing: .1em; color: var(--ng); margin: 0; text-transform: uppercase; }
.history-sidebar__close { background: none; border: 1px solid var(--mb); color: var(--td); font-size: 1rem; width: 28px; height: 28px; border-radius: 50%; cursor: pointer; display: flex; align-items: center; justify-content: center; transition: all .2s; }
.history-sidebar__close:hover { border-color: var(--np); color: var(--np); }
.history-sidebar__body { max-height: calc(85vh - 50px); overflow-y: auto; scrollbar-width: thin; scrollbar-color: var(--nc) rgba(0,0,0,.2); }
.history-table { width: 100%; border-collapse: collapse; font: .75rem var(--fb); }
.history-table thead { position: sticky; top: 0; z-index: 2; }
.history-table th { background: rgba(26,10,46,.95); font: 700 .55rem var(--fd); letter-spacing: .1em; color: var(--td); text-transform: uppercase; padding: .5rem .4rem; text-align: center; border-bottom: 1px solid var(--mb); }
.history-table td { padding: .45rem .4rem; text-align: center; color: var(--tm); border-bottom: 1px solid rgba(255,255,255,.04); white-space: nowrap; }
.history-table tr:hover td { background: rgba(0,229,255,.05); }
.history-win { color: var(--ng); font-weight: 700; }
.history-lose { color: var(--np); font-weight: 700; }
.history-jackpot { color: #39ff14; font-weight: 900; text-shadow: 0 0 6px rgba(57,255,20,.4); }
.history-empty { text-align: center; padding: 1.5rem; color: var(--td); font-style: italic; font-size: .75rem; }
.history-toggle { display: flex; align-items: center; gap: .5rem; margin: .75rem 1.5rem .5rem; padding: .5rem 1rem; background: linear-gradient(145deg, rgba(26,10,46,.8), rgba(13,6,24,.9)); border: 1px solid var(--mb); border-radius: 10px; font: 700 .65rem var(--fd); letter-spacing: .1em; color: var(--nc); cursor: pointer; transition: all .2s; text-transform: uppercase; }
.history-toggle:hover { border-color: var(--nc); box-shadow: 0 0 12px rgba(0,229,255,.2); }

/* Responsive */
@media(max-width:768px) { .ambient-glow{width:200px;height:300px;filter:blur(80px)} }
@media(max-width:520px) { .machine{max-width:100%;border-radius:0;border-left:none;border-right:none;padding-bottom:1rem;box-shadow:none} .navbar{padding:.75rem 1rem} .logo{font-size:1rem} .nav-links{gap:1rem} .nav-links a{font-size:.75rem} .machine__title{font-size:1.5rem} .reels-frame{margin:0 .5rem;border-radius:10px} .reels-window{height:180px} .reel-symbol{font-size:2.2rem;height:60px} .payline{height:60px} .controls{padding:.75rem .5rem .5rem} .controls__left,.controls__right{gap:.5rem} .btn-control{width:40px;height:40px;font-size:1.1rem} .btn-max-bet{padding:0 10px;font-size:.6rem} .btn-spin{width:76px;height:76px} .btn-spin__text{font-size:.85rem} .info-panel{margin:0 .5rem;padding:.5rem} .info-value{font-size:1.1rem} }
@media(max-width:380px) { .nav-links{display:none} .logo{margin:0 auto;text-align:center;width:100%} .machine__title{font-size:1.25rem} .reels-window{height:150px} .reel-symbol{font-size:1.8rem;height:50px} .payline{height:50px} .info-value{font-size:.95rem} .btn-spin{width:68px;height:68px} }
@media(max-height:700px) { body{justify-content:flex-start} .navbar{position:relative;padding:.5rem 1rem} .machine{margin-top:0;border-radius:0} .machine__top-sign{padding:.5rem 1rem .25rem} }